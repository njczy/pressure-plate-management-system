import React, { ReactNode } from 'react';
import './HeaderBar.css';

// 内置一比一 SVG 图标（与原 MainLayout 保持一致）
const WorkIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-label="工作台">
    <g transform="translate(-64 -64)">
      <path d="M87.4,217.6H64.6a.6.6,0,1,0,0,1.2H87.4a.6.6,0,1,0,0-1.2ZM68.2,198.4a.6.6,0,0,0-.6.6v10.8a.6.6,0,0,0,.6.6h3.6a.6.6,0,0,0,.6-.6V199a.6.6,0,0,0-.6-.6Zm3,10.8H68.8v-9.6h2.4ZM84.4,199a.586.586,0,0,0-.568-.6H74.768a.588.588,0,0,0-.568.6v3.6a.586.586,0,0,0,.568.6h9.067a.588.588,0,0,0,.568-.6V199Zm-1.2,3H75.4v-2.4h7.8Zm-8.4,3a.642.642,0,0,0-.6.675v4.05a.642.642,0,0,0,.6.675h3a.642.642,0,0,0,.6-.675v-4.05a.642.642,0,0,0-.6-.675Zm2.4,4.2H75.4v-3h1.8Zm6.6-4.2h-3a.642.642,0,0,0-.6.675v4.05a.642.642,0,0,0,.6.675h3a.642.642,0,0,0,.6-.675v-4.05A.642.642,0,0,0,83.8,205Zm-.6,4.2H81.4v-3h1.8Z" transform="translate(0 -130.8)" fill="#0d867f"/>
      <path d="M87.4,68.8a.6.6,0,0,0,.6-.6v-3A1.2,1.2,0,0,0,86.8,64H65.2A1.2,1.2,0,0,0,64,65.2V82a1.2,1.2,0,0,0,1.2,1.2H86.8A1.2,1.2,0,0,0,88,82V73a.6.6,0,1,0-1.2,0v8.4a.6.6,0,0,1-.6.6H65.8a.6.6,0,0,1-.6-.6V65.8a.6.6,0,0,1,.6-.6H86.2a.6.6,0,0,1,.6.6v2.4A.6.6,0,0,0,87.4,68.8Z" fill="#0d867f"/>
    </g>
    {/* 移除误加的英文文本 */}
  </svg>
);

const AppsIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23.991 24" width="24" height="24" aria-label="应用库">
    <path d="M844.621,150.542a5.763,5.763,0,0,1-5.761-5.763v-5.212a.55.55,0,0,1,.55-.55h5.211a5.763,5.763,0,0,1,0,11.525Zm-4.662-10.425v4.662h0a4.662,4.662,0,1,0,4.662-4.662Zm-.549,4.662h0Zm-7.264,5.744a5.751,5.751,0,1,1,0-11.5h5.2a.549.549,0,0,1,.549.55v5.2A5.758,5.758,0,0,1,832.146,150.523Zm0-10.4a4.652,4.652,0,1,0,4.653,4.652v-4.652Zm12.477-2.071h-5.2a.55.55,0,0,1-.55-.55v-5.2a5.75,5.75,0,1,1,5.752,5.753Zm-4.652-1.1h4.65a4.652,4.652,0,1,0-4.65-4.653Zm-2.622,1.1h-5.2a5.754,5.754,0,1,1,5.752-5.753v5.2A.549.549,0,0,1,837.348,138.048Zm-5.2-10.407a4.653,4.653,0,0,0,0,9.307H836.8v-4.653h0a4.654,4.654,0,0,0-4.653-4.654Z" transform="translate(-826.392 -126.542)" fill="#0d867f"/>
  </svg>
);

const MessageIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-label="我的消息">
    <g transform="translate(5857.105 -253)">
      <g transform="translate(-1)">
        <path d="M66.444,86.371V65.821a.208.208,0,0,1,.208-.207H84a.208.208,0,0,1,.208.207v8.291h1.5V65.821A1.712,1.712,0,0,0,84,64.114H66.651a1.712,1.712,0,0,0-1.712,1.707v20.55a1.712,1.712,0,0,0,1.712,1.707h9.711v-1.5H66.651a.208.208,0,0,1-.208-.207Z" transform="translate(-5921.044 188.886)" fill="#0d867f"/>
        <path d="M260.484,264.381a.761.761,0,0,0,0,1.522h2.932a.761.761,0,0,0,0-1.522Zm9.18-3.356a.748.748,0,0,0-.734-.761h-8.445a.762.762,0,0,0,0,1.522h8.445a.762.762,0,0,0,0-1.522Zm5.572,12.61h-1.464v-2.461a.735.735,0,1,0-1.469,0v3.222a.748.748,0,0,0,.734.761h2.2a.761.761,0,0,0,0-1.522Z" transform="translate(-6110.234 1.76)" fill="#0d867f"/>
        <path d="M524.887,515.126a5.777,5.777,0,1,0,5.777,5.777A5.777,5.777,0,0,0,524.887,515.126Zm0,10.085A4.308,4.308,0,1,1,529.2,520.9,4.313,4.313,0,0,1,524.887,525.211Z" transform="translate(-6362.77 -249.764)" fill="#0d867f"/>
      </g>
    </g>
    <text x="12" y="46" fill="#0d867f" fontSize="10" fontFamily="Helvetica, Arial, sans-serif">STATE GRID</text>
  </svg>
);

const SearchIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.002 24.002" width="24" height="24" aria-label="智能检索">
    <path d="M-14638.67-1070a.052.052,0,0,1-.048-.052v-1.431a.05.05,0,0,1,.048-.052h3.777a.255.255,0,0,0,.254-.257v-3.774a.053.053,0,0,1,.052-.052h1.431a.05.05,0,0,1,.052.052v5.514a.052.052,0,0,1-.052.052Zm-18.385,0a.053.053,0,0,1-.052-.052v-5.514a.051.051,0,0,1,.052-.052h1.431a.049.049,0,0,1,.048.052v3.774a.241.241,0,0,0,.077.18.252.252,0,0,0,.181.077h3.777a.051.051,0,0,1,.052.052v1.431a.053.053,0,0,1-.052.052Zm17.855-5v0s0,0,0,0l-2.479-2.487a.265.265,0,0,0-.184-.074.258.258,0,0,0-.154.052,6.951,6.951,0,0,1-4.216,1.413,6.994,6.994,0,0,1-5.286-2.406,7.028,7.028,0,0,1,.324-9.546,6.946,6.946,0,0,1,4.958-2.064,7.031,7.031,0,0,1,4.587,1.71,7.034,7.034,0,0,1,1.022,9.5.263.263,0,0,0,.019.338l2.49,2.479a.045.045,0,0,1,.015.037.045.045,0,0,1-.015.037l-1.012,1.012s0,0,0,0a.062.062,0,0,1-.033.011A.064.064,0,0,1-14639.2-1075Zm-10.723-11.819a5.315,5.315,0,0,0-1.571,3.792,5.378,5.378,0,0,0,5.371,5.374,5.377,5.377,0,0,0,5.37-5.37,5.325,5.325,0,0,0-1.574-3.8,5.331,5.331,0,0,0-3.8-1.574h0A5.34,5.34,0,0,0-14649.922-1086.816Zm15.335-1.571a.053.053,0,0,1-.052-.048v-3.781a.254.254,0,0,0-.254-.254h-3.777a.049.049,0,0,1-.048-.048v-1.431a.05.05,0,0,1,.048-.052h5.514a.05.05,0,0,1,.052.052v5.514a.049.049,0,0,1-.052.048Zm-22.468,0a.05.05,0,0,1-.052-.048v-5.514a.051.051,0,0,1,.052-.052h5.514a.051.051,0,0,1,.052.052v1.431a.05.05,0,0,1-.052.048h-3.777a.258.258,0,0,0-.258.254v3.781a.048.048,0,0,1-.048.048Z" transform="translate(14657.106 1094)" fill="#0d867f"/>
  </svg>
);

const ThemeIcon = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-label="换肤">
    <path d="M18.412,0V1.588l4.014,3.975L20.182,7.807a1.551,1.551,0,0,0-1.063-.393,1.6,1.6,0,0,0-1.613,1.613v8.3A1.579,1.579,0,0,1,15.932,18.9H8.065a1.579,1.579,0,0,1-1.574-1.574v-8.3A1.6,1.6,0,0,0,4.878,7.411,1.683,1.683,0,0,0,3.815,7.8L1.571,5.56,5.549,1.588h.985l.039.039A6.544,6.544,0,0,0,12,4.343a6.45,6.45,0,0,0,5.43-2.715.039.039,0,0,1,.039-.039h.945V0M6.57,0H5.706A1.515,1.515,0,0,0,4.488.489L.472,4.461a1.52,1.52,0,0,0,0,2.2L2.805,8.979a1.5,1.5,0,0,0,1.024.432,1.5,1.5,0,0,0,1.01-.432h.039c.039,0,.039,0,.039.039v8.308a3.156,3.156,0,0,0,3.147,3.153h7.868a3.156,3.156,0,0,0,3.141-3.153v-8.3c0-.039,0-.039.039-.039h.039A1.5,1.5,0,0,0,20.2,9.42a1.428,1.428,0,0,0,1.01-.44l2.322-2.322a1.52,1.52,0,0,0,0-2.2L19.553.489A1.576,1.576,0,0,0,18.412,0h-.985A1.582,1.582,0,0,0,16.089.75a4.931,4.931,0,0,1-4.132,2.006A5.032,5.032,0,0,1,7.829.764,1.4,1.4,0,0,0,6.57,0Zm0,0" fill="#0d867f"/>
  </svg>
);

const NavBadge = () => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="280"
    height="48"
    viewBox="0 0 280 48"
    aria-label="单位与班组信息"
  >
    <path d="M8 8 H272 A8 8 0 0 1 280 16 V40 A8 8 0 0 1 272 48 H8 A8 8 0 0 1 0 40 V16 A8 8 0 0 1 8 8 Z" fill="#d4f0ee" />
    <g transform="translate(20 20) scale(0.67)">
      <path d="M37.152,27.073a6.153,6.153,0,0,0,1.841-6.6,5.487,5.487,0,0,0-10.563,0,6.156,6.156,0,0,0,1.841,6.6,9.97,9.97,0,0,0-5.865,9.234V38.3a.963.963,0,0,0,.93.992H42.087a.908.908,0,0,0,.661-.293,1.011,1.011,0,0,0,.272-.7V36.3a9.974,9.974,0,0,0-5.867-9.234v0ZM33.712,18.4A3.752,3.752,0,0,1,37.2,20.84a4.166,4.166,0,0,1-.8,4.352,3.594,3.594,0,0,1-4.091.874,3.991,3.991,0,0,1-2.322-3.682A3.863,3.863,0,0,1,33.712,18.4ZM41.158,37.3H26.266V36.3a8.012,8.012,0,0,1,3.7-6.912,7.074,7.074,0,0,1,7.491,0,8,8,0,0,1,3.7,6.912V37.3Zm0,0,1.577-10.59a5.209,5.209,0,0,0,1.022-4.732A4.84,4.84,0,0,0,40.5,18.568a.915.915,0,0,0-.719.1.951.951,0,0,0-.428.6,1,1,0,0,0,.664,1.218,2.953,2.953,0,0,1,2.056,2.651,3.019,3.019,0,0,1-1.648,2.955.91.91,0,0,0-.3.22l-.023.024a.973.973,0,0,0-.139.236,1.127,1.127,0,0,0-.055.124c-.006.022-.02.04-.027.064a.884.884,0,0,0,0,.12,1,1,0,0,0-.006.23.73.73,0,0,0,.021.114,1.033,1.033,0,0,0,.039.188.93.93,0,0,0,.723.575,5.875,5.875,0,0,1,4.214,5.778V35.3a1,1,0,0,0,.457.88.884.884,0,0,0,.948,0,1,1,0,0,0,.457-.878V33.765a8.008,8.008,0,0,0-4-7.06L41.156,37.3Z" transform="translate(-23.573 -15.878)" fill="#0d867f"/>
    </g>
    <text
      transform="translate(47 28)"
      fill="#333"
      fontSize="12"
      fontFamily="PingFangSC-Regular, PingFang SC"
      dominantBaseline="middle"
    >
      江苏电力公司
    </text>
    <g transform="translate(140 20) scale(0.67)">
      <path d="M12,0A12,12,0,1,1,0,12,12,12,0,0,1,12,0Zm.448,14.483h-.02a5.409,5.409,0,0,0-4.221,2.045A5.708,5.708,0,0,0,7.016,20.85a10.169,10.169,0,0,0,10.873-.577,5.7,5.7,0,0,0-1.233-3.737,5.41,5.41,0,0,0-4.207-2.053ZM12,1.846A10.154,10.154,0,0,0,5.165,19.509a7.472,7.472,0,0,1,4.229-6.216A4.753,4.753,0,0,1,8.178,8.146a4.511,4.511,0,0,1,8.5,0,4.753,4.753,0,0,1-1.217,5.147,7.148,7.148,0,0,1,4.173,5.4A10.153,10.153,0,0,0,12,1.846Zm.447,10.769a2.732,2.732,0,1,0-.018,0h.018Z" fill="#0d867f"/>
    </g>
    <text
      transform="translate(167 28)"
      fill="#333"
      fontSize="12"
      fontFamily="PingFangSC-Regular, PingFang SC"
      dominantBaseline="middle"
    >
      班组
    </text>
    <g transform="translate(197 23) scale(0.5)">
      <g clipPath="url(#clip-path)">
        <path d="M246.555,249.213a.659.659,0,0,1-.551.248.724.724,0,0,1-.53-.248l-4.686-4.7a.612.612,0,1,1,.866-.865l4.36,4.472,4.371-4.472a.612.612,0,1,1,.866.865Zm0,0" transform="translate(-239.609 -243.469)" fill="#666"/>
      </g>
    </g>
    <defs>
      <clipPath id="clip-path">
        <rect width="12" height="6" fill="rgba(255,255,255,0.7)" stroke="#707070" strokeWidth="1"/>
      </clipPath>
    </defs>
    <g transform="translate(218 20) scale(0.67)">
      <path d="M80.225,47.248a1.091,1.091,0,0,1,1.124-1.87,11.454,11.454,0,1,1-11.778-.007,1.091,1.091,0,1,1,1.122,1.872,9.273,9.273,0,1,0,9.532.006Zm-4.771-4.592a1.091,1.091,0,0,1,1.091,1.091v8.727a1.091,1.091,0,0,1-2.181,0V43.747A1.091,1.091,0,0,1,75.454,42.656Z" transform="translate(-63.454 -42.656)" fill="#0d867f"/>
    </g>
    <text
      transform="translate(245 28)"
      fill="#333"
      fontSize="12"
      fontFamily="PingFangSC-Regular, PingFang SC"
      dominantBaseline="middle"
    >
      退出
    </text>
  </svg>
);

const Logo = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 50" width="480" height="50" aria-label="新一代设备资产精益管理系统(PMS3.0)">
    <text transform="translate(60 34)" fill="#333" fontSize="24" fontFamily="PingFangSC-Semibold, PingFang SC" fontWeight="600">
      <tspan x="0" y="0">新一代设备资产精益管理系统</tspan>
      <tspan y="0" fontFamily="Helvetica-Bold, Helvetica" fontWeight="700">(PMS3.0)</tspan>
    </text>
    <g id="组_23993" data-name="组 23993" transform="translate(0)">
      <path d="M307.49,167.831a18.822,18.822,0,1,0,7.349,1.484,18.759,18.759,0,0,0-7.349-1.484m0-.5a19.382,19.382,0,1,1-19.382,19.382A19.385,19.385,0,0,1,307.49,167.331Z" transform="translate(-282.818 -161.37)" fill="#0d867f"/>
      <path d="M16102.291,21.588a18.18,18.18,0,0,1-10.407-3.25A18.271,18.271,0,0,1,16085.27,10a18.116,18.116,0,0,0,6.726,3.542,16.046,16.046,0,0,0,4.75,6.218,22.557,22.557,0,0,1-3.407-5.842,31.187,31.187,0,0,0,3.5.663,13.577,13.577,0,0,0,6.586,6.971,18.636,18.636,0,0,0,3.347-.518c-2.787-.85-5.26-3-7.153-6.21.521.024,1.063.037,1.606.037,7.734,0,14.522-2.535,17.716-6.615a23.7,23.7,0,0,1-7.652,3.8,29.4,29.4,0,0,1-8.3,1.157,32.414,32.414,0,0,1-4.363-.3,24.058,24.058,0,0,1-1.08-2.844,32.5,32.5,0,0,0,4.493.306c7.889,0,15.167-2.656,18.543-6.767,0-.051,0-.1,0-.154s0-.1,0-.144a18.175,18.175,0,0,1-5.358,12.926A18.177,18.177,0,0,1,16102.291,21.588Zm-6.3-9.155h0a28.982,28.982,0,0,1-3.5-1.011,25.807,25.807,0,0,1-.61-2.8,24.14,24.14,0,0,0,3.366,1.02,24.658,24.658,0,0,0,.743,2.786Zm-5.028-1.622h0c-3.378-1.477-5.815-3.478-6.865-5.633a18.547,18.547,0,0,1-.1-1.883,18.179,18.179,0,0,1,5.358-12.936A18.167,18.167,0,0,1,16102.291-15a18.2,18.2,0,0,1,12.723,5.149,18.265,18.265,0,0,1,5.508,11.594c-.052-.6-.135-1.207-.247-1.813-1.021,2.4-3.593,4.646-7.24,6.331a30.473,30.473,0,0,1-12.526,2.658,29.789,29.789,0,0,1-3.334-.186,27.5,27.5,0,0,1-.432-11.3,23.525,23.525,0,0,1,4.772-10.789c-2.55,1.8-4.6,5.063-5.766,9.193a30.01,30.01,0,0,0-.724,12.573,26.4,26.4,0,0,1-3.293-.858,27.124,27.124,0,0,1,2.1-14.206c1.949-4.3,4.86-7.262,8.2-8.337a18.221,18.221,0,0,0-6.461,1.274c-4.471,4.689-6.618,12.8-5.47,20.662a23.213,23.213,0,0,1-4.025-2.152,13.874,13.874,0,0,0,4.184,3.119,25.282,25.282,0,0,0,.707,2.9Z" transform="translate(-16077.621 22.05)" fill="#0d867f" stroke="rgba(0,0,0,0)" strokeMiterlimit="10" strokeWidth="1"/>
      <path d="M289.316,138.849l-3.225-3.114,2.879-2.982,3.2,3.087-.454.47-.157-.152-1.984,2.055.186.179-.441.457ZM288.9,133.6l-1.984,2.055,2.3,2.218,1.984-2.055-2.3-2.218Zm-.92,2.723.565-.585-.314-.3-.62.642-.357-.345,1.736-1.8.357.344-.675.7.314.3.62-.642.357.345-.165.171c.216.043.389.082.521.117l-.064.351.262-.271.371.359-1.791,1.855-.371-.359.648-.671-.471-.454-.565.585-.357-.345Zm1.574-.631.064-.351-.275.285.471.454.275-.285a3.014,3.014,0,0,0-.534-.1Zm4.465-5.965c-.052-.077-.12-.169-.2-.277l-.061-.081.714-.392a2.23,2.23,0,0,1,.226.419l1.551-.756.452.927-.624.3-.226-.463-2.6,1.27.226.463-.571.278-.452-.927,1.568-.765Zm-.823,2.52q.993-.815,1.085-1.257l-.571.278-.217-.446,2.282-1.113.217.446-.766.374c-.091.177-.163.315-.218.415a2.534,2.534,0,0,1,.5.173,3.4,3.4,0,0,0,.523-.917,5.952,5.952,0,0,1,.718.07c.071.024.079.071.026.142a1.264,1.264,0,0,0-.135.176,3.541,3.541,0,0,0-.341.431,2.082,2.082,0,0,0,1.609.539,1.618,1.618,0,0,0-.229.752,2.18,2.18,0,0,1-1.668-.886l-.045.089a4.607,4.607,0,0,1,.436.8.82.82,0,0,1,.073.6q-.083.282-.627.57a1.305,1.305,0,0,0-.4-.421l.249-.122q.311-.13.155-.407a2.367,2.367,0,0,0-.166-.294,7.389,7.389,0,0,1-1.232,1.771.977.977,0,0,0-.592-.263,5.824,5.824,0,0,0,1.466-2.017.521.521,0,0,0-.105-.081,8.4,8.4,0,0,1-1.106,1.533,2.008,2.008,0,0,0-.511-.28,4.647,4.647,0,0,0,1.167-1.453.128.128,0,0,0-.08-.027,11.9,11.9,0,0,1-.987,1.1l-.062-.036a3.186,3.186,0,0,0-.45-.245Zm6.818-4.49,1.387-.245-.121-.684.215-.038c.326-.057.485-.065.48-.024a.152.152,0,0,1-.01.062,1.894,1.894,0,0,0,.026.258l.058.332,1.387-.245.469,2.657-.664.117-.031-.176-.723.127.062.351c0,.283.16.375.491.276l.684-.121q.341,0,.276-.491a6.408,6.408,0,0,0,.639.088q.04.8-.458.826l-1.5.265a.525.525,0,0,1-.735-.515l-.1-.566-.762.134.072.41-.625.11-.513-2.91Zm1.566.771-.086-.488-.762.134.086.488.762-.134Zm.559-.6.086.488.723-.127-.086-.488-.723.127Zm-1.231,1.245.083.468.762-.134-.083-.468-.762.134Zm1.489.22.723-.127-.083-.468-.723.127.083.468Zm4.973,1.461.761-4.317,3.887.685-.661,3.751q.039.693-1.208.452a.98.98,0,0,0-.066-.656q.756.173.663-.1l.534-3.028-2.637-.465-.107.606c.134-.071.251-.13.354-.179q.045.088.16.35a1,1,0,0,0,.115.262,7.238,7.238,0,0,0,.265-.7l.558.259-.183.35.262-.115q.074.154.243.566a5.467,5.467,0,0,0,.327-.828l.535.276a11.352,11.352,0,0,1-.644,1.256,7.4,7.4,0,0,1,.248.99,1.9,1.9,0,0,0-.575.181c0-.067-.011-.169-.027-.307s-.035-.221-.049-.29l-.175.191a7.991,7.991,0,0,1-.547.588,1.367,1.367,0,0,0-.444-.339c.158-.134.333-.29.526-.471a1.094,1.094,0,0,0-.36.1,4.369,4.369,0,0,1-.1-.461,3.978,3.978,0,0,1-.717.76,1.018,1.018,0,0,0-.167-.311l-.186,1.054-.586-.1Zm.813-1.186a4.5,4.5,0,0,0,.669-.828,5.846,5.846,0,0,0-.359-.93l-.31,1.758Zm1.458-.045a1.922,1.922,0,0,0,.32-.447,5.092,5.092,0,0,0-.279-.815l-.272.516q.08.236.231.746Zm8.446,3.1a4.606,4.606,0,0,1-.4-2.789,1.19,1.19,0,0,0,.038-.292,1.93,1.93,0,0,1,.673.165,3.386,3.386,0,0,0,.486,2.541,3.786,3.786,0,0,0-.792.375Zm-3.54-2.316a3.743,3.743,0,0,0,2.094-1.226q.422.393.59.546c.035.047.026.08-.028.1a24.23,24.23,0,0,1-2.315,1.269,2.266,2.266,0,0,0-.341-.686Zm.023,1.57h.045q.673.121,1.934-1.218a4.406,4.406,0,0,1,.581.519.064.064,0,0,1-.018.08,16.679,16.679,0,0,0-1.578,1,5.892,5.892,0,0,0,.743.334c.206.091.35.157.433.2a4.223,4.223,0,0,0-.172-.755l.675-.057a12.722,12.722,0,0,1,.27,1.918l-.8-.051a1.281,1.281,0,0,0,.013-.505,12.637,12.637,0,0,0-2.062-.761c-.088-.031-.138-.048-.15-.054a2.193,2.193,0,0,1,.067-.567.335.335,0,0,1,.018-.079Zm9.975,3.9-2.122-2.2.428-.413,2.6,2.7-2.6,2.507q-.476.706-1.313-.3a3.322,3.322,0,0,0,.345-.5q.4.47.585.207l2.069-2Zm-.422.077-.385.372-2.122-2.2.385-.372,2.122,2.2Zm-1.674.293-.758-.785-.4.386.758.785.4-.386Zm-.984.951.214-.207-.758-.785-.272.262L320.21,136l1.427-1.378,1.667,1.727-1.37,1.323-.469-.485Z" transform="translate(-281.097 -126.53)" fill="#0d867f" />
      <path id="路径_28034" data-name="路径 28034" d="M256.173,220.76l.063-.123a1.133,1.133,0,0,0,1.276-.458q.207-.493-.172-.708-.29-.214-.788.2l-.649.49a1.09,1.09,0,0,1-1.079.071,1.1,1.1,0,0,1-.35-1.575,3.128,3.128,0,0,1,.375-.563c.06-.058.107-.108.143-.148a.144.144,0,0,0-.051-.2l.063-.123,1.073.547-.063.123q-1.066-.255-1.425.449a.562.562,0,0,0,.206.814q.343.2.806-.232l.311-.219q.791-.639,1.344-.29a.992.992,0,0,1,.386,1.461,1.6,1.6,0,0,1-.356.439.749.749,0,0,0-.16.184c-.048.064-.02.139.086.221l-.072.141-.968-.493Zm-3.107,1.991-.112-.039.585-1.7.113.039q-.218.509.287.621l2.522.868a.863.863,0,0,0-.482-1.21l.045-.131.947.347-.984,2.858-.959-.31.051-.149a.852.852,0,0,0,1.119-.639l-2.522-.868q-.46-.241-.609.313Zm.57,2.111-.188.97,1.32-.266-1.132-.7Zm-1.529,2.279-.117-.023.313-1.609.117.023-.011.058c-.038.261,0,.39.126.387a2.954,2.954,0,0,0,.7-.1l.215-1.105a2.015,2.015,0,0,0-.6-.358c-.116-.023-.211.087-.284.328l-.007.039-.117-.023.2-1.009.117.023q-.076.286.487.6L255.769,226l-.026.136-2.833.6q-.851.136-.8.407Zm-.083,2.948-.119-.006.094-1.794.119.006q-.069.55.447.517l2.663.14a.863.863,0,0,0-.8-1.03l.007-.138,1.006.072-.158,3.018-1.008-.033.008-.157a.852.852,0,0,0,.9-.923l-2.663-.14q-.509-.105-.5.468Zm3.276.785.118-.012.306,2.908-1,.105-.015-.138q.877-.171.706-1.226c-.016-.276-.107-.392-.275-.348l-1.159.122q0,.774.833.746l.012.118-1.689.178-.012-.118q.8-.163.679-.905l-1.218.128c-.212,0-.289.149-.23.461a1.272,1.272,0,0,0,1.022,1.224l.014.137-1.062-.088-.31-2.947.118-.012q.052.49.421.413l2.417-.254q.375-.02.326-.491Zm-.062,8-.113.037q-.133-.475-.566-.272l-.62.2a3.255,3.255,0,0,1-.684-1.211,1.676,1.676,0,0,1,1.085-2.285,1.748,1.748,0,0,1,2.284,1.148,2.847,2.847,0,0,1,.044.774.963.963,0,0,0,.017.244c.016.092.113.136.292.133l.043.132-1.127.366-.037-.113a1.5,1.5,0,0,0,.611-1.445q-.293-.9-1.828-.383-1.542.5-1.235,1.44.146.514.5.378l.507-.165c.246-.052.306-.252.18-.6l.113-.037.537,1.653Zm2.2.75-1.181.551q.364.92,1.091.516.662-.309.4-.864-.133-.33-.313-.2Zm-1.714,3.241-.108.05-.434-.931.99-1.617-.058-.125-.9.417c-.32.092-.4.289-.246.594l-.108.05-.718-1.54.108-.05q.164.447.613.194l2.024-.944q.455-.191.245-.594l.108-.05.685,1.468q.574,1.279-.2,1.665a.891.891,0,0,1-1.121-.349l-.873,1.541a.207.207,0,0,0-.006.22Zm1.353,1.682-.1.068-1.02-1.457.1-.068c.2.263.393.32.579.174l1.991-1.394q.291-.2.035-.6l.1-.068,1.02,1.457-.1.068a.058.058,0,0,1-.039-.021q-.272-.389-.552-.168l-1.991,1.394q-.347.194-.024.62Zm3.291-.595-1.819,1.757a.244.244,0,0,0-.008.419q.672.752,1.809-.345,1.025-1.072.408-1.767-.247-.256-.39-.063Zm-3.011,1.205.086-.083q.274.284.529.065l1.805-1.743q.228-.22-.047-.531l.085-.083,1.07,1.108a1.665,1.665,0,0,1,.109,2.5,1.685,1.685,0,0,1-2.541-.1l-1.1-1.137Zm6.543,4.764.054.19a1.872,1.872,0,0,1-1.563-.288,1.658,1.658,0,0,1-.39-2.47,1.725,1.725,0,0,1,2.513-.381,2.852,2.852,0,0,1,.481.61.952.952,0,0,0,.154.19q.1.1.316-.058l.11.083-.713.946-.095-.071a1.5,1.5,0,0,0-.328-1.534q-.753-.542-1.717.735a1.893,1.893,0,0,0-.492,1.015.851.851,0,0,0,.342.827,1.537,1.537,0,0,0,1.328.209Zm3.333-1.167q-.81-.367-1.545,1.031-.736,1.444.074,1.856.774.394,1.527-1.04.683-1.426-.056-1.847Zm.08-.158a1.747,1.747,0,0,1,.768,2.408,1.788,1.788,0,0,1-3.186-1.623,1.74,1.74,0,0,1,2.418-.785Zm2.568,1.552-.359,1.253q.933.329,1.105-.485.2-.7-.388-.871-.336-.116-.358.1Zm1.321,3.42-.033.114-.988-.283-.571-1.808-.133-.038-.272.95c-.141.3-.046.494.288.575l-.033.114-1.633-.468.033-.114q.445.17.549-.335l.616-2.146q.154-.469-.288-.575l.033-.114,1.557.446q1.342.406,1.122,1.247-.18.627-1,.618l.59,1.67q.062.141.162.149Zm.307.24.014-.118a.715.715,0,0,0,.282-.025l.022-.017c.1-.041.16-.166.185-.375l.272-2.216a.382.382,0,0,0-.373-.523l.014-.118,1.627.2q1.289.2,1.2,1.083a.873.873,0,0,1-.564.707,2.147,2.147,0,0,1-1.257.025l-.116.941q-.138.48.393.525l-.014.118-1.686-.207Zm1.608-2.888-.164,1.334q.87.206.935-.642.1-.785-.513-.839c-.157-.019-.243.03-.258.148Zm3.447.016q-.885.087-.823,1.665.085,1.619.992,1.57.867-.045.8-1.664-.122-1.576-.972-1.571Zm-.009-.177a1.746,1.746,0,0,1,1.869,1.7,1.788,1.788,0,0,1-3.571.187,1.739,1.739,0,0,1,1.7-1.889Zm3.19.24.249,1.279q.981-.13.765-.933-.139-.717-.741-.6-.352.049-.272.255Zm2.73,2.447.023.117-1.009.2-1.329-1.352-.136.026.188.97c.011.333.183.461.517.382l.023.117-1.668.324-.023-.117q.473-.051.336-.548l-.426-2.192q-.075-.488-.517-.382l-.023-.117,1.59-.309q1.38-.248,1.565.6.124.64-.609,1l1.284,1.22a.207.207,0,0,0,.212.059Zm.822-1.331.934-.322-.891-1.01-.043,1.332Zm2.738.185.039.112-1.55.534-.039-.113.056-.019c.245-.1.335-.2.272-.3a2.941,2.941,0,0,0-.443-.558l-1.065 .367a2.018,2.018,0,0,0-.012.694c.038.112.181.139.426.082l.037-.013.039.112-.971.335-.039-.112q.286-.077.274-.721l.158-3,.131-.045,1.933,2.155q.543.669.754.492Zm2.66-1.312.052.107-1.615.788-.052-.107q.514-.206.236-.642l-1.169-2.4a.863.863,0,0,0-.515,1.2l-.124.061-.424-.915,2.717-1.325.459.9-.142.069a.852.852,0,0,0-1.243-.339l1.169,2.4q.154.5.652.209Zm2.411-1.6.072.095-1.42,1.07-.072-.095c.256-.208.306-.4.153-.585l-1.462-1.941q-.214-.284-.6-.014l-.071-.095,1.42-1.07.072.095a.058.058,0,0,1-.02.039q-.379.285-.149.557l1.462,1.941q.206.34.62,0Zm-.31-3.841q-.644.614.377,1.819,1.063,1.223,1.749.626.656-.57-.392-1.806-1.066-1.167-1.733-.64Zm-.116-.134a1.747,1.747,0,0,1,2.521.19,1.788,1.788,0,0,1-2.7,2.346,1.74,1.74,0,0,1,.178-2.536Zm4.023,1.09-.095-.072q.285-.379-.058-.612l-1.909-1.439c-.345.021-.532.061-.561.122l-.1-.071.642-.852,2.778-.108-1.215-.915a.427.427,0,0,0-.7.07l-.095-.072.654-.868.095.072q-.226.4.094.565l2.351,1.771-.083.11-3.517.17,1.61,1.213a.409.409,0,0,0,.7-.069l.1.072-.689.915Zm.819-7.149q-.368.81,1.031,1.545,1.444.736,1.856-.074.394-.774-1.04-1.527-1.426-.683-1.847.056Zm-.158-.08a1.747,1.747,0,0,1,2.408-.768,1.788,1.788,0,0,1-1.623,3.186,1.74,1.74,0,0,1-.785-2.418Zm.995-1.385-.114-.035.837-2.739.964.295-.035.113q-.861-.159-1.118.816c-.093.261-.054.4.117.428l1.115.341q.265-.662-.492-.956l.04-.132,1.624.5-.04.132q-.773-.174-.962.512l1.115.341q.361.172.52-.419l.114.035-.531,1.738-.114-.035q.144-.471-.226-.544l-2.324-.711q-.354-.128-.492.325Zm4.024-6.539.135-.144a1.872,1.872,0,0,1,.558,1.488,1.658,1.658,0,0,1-1.916,1.606,1.725,1.725,0,0,1-1.621-1.958,2.85,2.85,0,0,1,.275-.726.948.948,0,0,0,.083-.229c.023-.09-.048-.17-.213-.241l.014-.137,1.179.124-.012.118q-1.032.368-1.146,1.071-.077.925,1.514,1.093a1.892,1.892,0,0,0,1.123-.1.851.851,0,0,0,.532-.719,1.537,1.537,0,0,0-.5-1.245Zm.6-4.283.119-.006.09,1.716-.119.006q-.025-.473-.4-.434l-1.144.06.063,1.2,1.144-.06q.377.02.351-.473l.119-.006.09,1.716-.119.006c-.016-.3-.148-.441-.4-.415l-2.427.127q-.355.019-.352.454l-.119.006-.09-1.716.119-.006q.026.492.4.434l1.045-.055-.063-1.2-1.045.055q-.376,0-.351.473l-.119.006-.09-1.716.119-.006q.044.452.4.415l2.427-.127c.238.014.356-.138.352-.454Zm-.371-2.2.117-.023.339,1.746-.117.023c-.075-.321-.229-.452-.459-.394l-2.385.464q-.349.068-.278.537l-.117.023-.339-1.746.117-.023a.057.057,0,0,1,.027.035q.09.465.436.378l2.386-.464q.4-.036.274-.557Zm.082-.431-.114.033q-.131-.456-.524-.322l-2.3 .659c-.191.288-.272.462-.241.522l-.114.033-.294-1.026,1.586-2.284-1.463.419a.427.427,0,0,0-.363.6l-.114.033-.3-1.044.114-.033q.182.42.507.265l2.829-.811.038.133-1.981,2.911,1.937-.555q.51-.084.363-.6l.114-.033.316,1.1Zm-2.571-4.025-.418-.9-.911.991,1.329-.1Zm-.1-2.742.108-.05.693,1.486-.108.05-.025-.053c-.123-.234-.232-.313-.329-.239a2.951,2.951,0,0,0-.509.5l.476,1.021a2.018,2.018,0,0,0,.692-.06c.107-.05.12-.194.038-.432l-.017-.036.108-.05.434.931-.108.05q-.107-.277-.746-.2l-3,.156-.058-.125,1.941-2.148q.608-.61.41-.8Z" transform="translate(-251.905 -204.307)" fill="#0d867f"/>
    </g>
  </svg>
);

export interface HeaderBarNavItem {
  key: string;
  label: string;
  icon?: ReactNode;
  badge?: number;
  active?: boolean;
}

export interface HeaderBarProps {
  logo?: ReactNode;
  navItems?: HeaderBarNavItem[];
  rightContent?: ReactNode;
  className?: string;
  showIcons?: boolean;
}

// 默认导航项（与原实现一比一）
const DEFAULT_NAV_ITEMS: HeaderBarNavItem[] = [
  { key: 'work', label: '工作台', icon: <WorkIcon />, active: true },
  { key: 'apps', label: '应用库', icon: <AppsIcon /> },
  { key: 'msg', label: '我的消息', icon: <MessageIcon />, badge: 38 },
  { key: 'search', label: '智能检索', icon: <SearchIcon /> },
  { key: 'theme', label: '换肤', icon: <ThemeIcon /> }
];

export const HeaderBar: React.FC<HeaderBarProps> = ({
  logo = <Logo />,
  navItems = DEFAULT_NAV_ITEMS,
  rightContent = <NavBadge />,
  className,
  showIcons = true
}) => {
  const classes = ['ml-header-bar', className].filter(Boolean).join(' ');

  return (
    <div className="ml-header">
      <div className={classes}>
        <div className="ml-header-left">
          <div className="ml-brand">{logo}</div>
          <div className="ml-nav-items">
            {navItems.map(item => (
              <div key={item.key} className={`ml-nav-item ${item.active ? 'active' : ''}`}>
                {showIcons && item.icon ? <span className="ml-nav-icon">{item.icon}</span> : null}
                <span className="ml-nav-label">{item.label}</span>
                {item.badge ? <span className="ml-nav-badge">{item.badge}</span> : null}
              </div>
            ))}
          </div>
        </div>
        <div className="ml-header-right">{rightContent}</div>
      </div>
    </div>
  );
};

export default HeaderBar;